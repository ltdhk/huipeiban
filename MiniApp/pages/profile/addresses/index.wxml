<view class="addresses-container">
  <view wx:if="{{loading}}" class="loading">加载中...</view>

  <view wx:else class="addresses-list">
    <view wx:if="{{addresses.length === 0}}" class="empty">
      <text class="empty-text">暂无地址信息</text>
      <text class="empty-hint">点击下方按钮添加地址</text>
    </view>

    <view wx:else>
      <view wx:for="{{addresses}}" wx:key="id" class="address-card">
        <view class="card-header">
          <view class="address-name">
            <text class="name">{{item.contact_name}}</text>
            <text wx:if="{{item.is_default}}" class="default-badge">默认</text>
          </view>
          <view class="card-actions">
            <text class="action-btn edit" data-id="{{item.id}}" bindtap="editAddress">编辑</text>
            <text class="action-btn delete" data-id="{{item.id}}" data-name="{{item.contact_name}}" bindtap="deleteAddress">删除</text>
          </view>
        </view>

        <view class="card-content">
          <view class="info-row">
            <text class="label">电话:</text>
            <text class="value">{{item.contact_phone}}</text>
          </view>
          <view class="info-row">
            <text class="label">地址:</text>
            <text class="value">{{item.province}}{{item.city}}{{item.district}}{{item.detail_address}}</text>
          </view>
          <view class="info-row" wx:if="{{item.label}}">
            <text class="label">标签:</text>
            <text class="value">{{item.label}}</text>
          </view>
        </view>

        <view class="card-footer" wx:if="{{!item.is_default}}">
          <button class="set-default-btn" data-id="{{item.id}}" bindtap="setDefault">设为默认</button>
        </view>
      </view>
    </view>
  </view>

  <view class="add-btn-wrapper">
    <button class="add-btn" bindtap="addAddress">+ 添加地址</button>
  </view>
</view>
